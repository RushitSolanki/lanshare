# LanShare Architecture

## System Overview

LanShare is a peer-to-peer file sharing application built with Tauri 2.x and Rust. The application uses UDP-based peer discovery to automatically find other LanShare instances on the local network and enables **real-time text sharing** between discovered peers.

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LanShare Application                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend UI   â”‚    â”‚   Tauri Bridge  â”‚    â”‚  Rust Backendâ”‚ â”‚
â”‚  â”‚   (HTML/CSS/JS) â”‚â—„â”€â”€â–ºâ”‚   (IPC Layer)   â”‚â—„â”€â”€â–ºâ”‚   (Core Logic)â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ Text Area     â”‚    â”‚ â€¢ Event System  â”‚    â”‚ â€¢ UDP Text   â”‚ â”‚
â”‚  â”‚ â€¢ Debug Panel   â”‚    â”‚ â€¢ Command Invokeâ”‚    â”‚   Sharing    â”‚ â”‚
â”‚  â”‚ â€¢ Peer Display  â”‚    â”‚ â€¢ Real-time     â”‚    â”‚ â€¢ Peer       â”‚ â”‚
â”‚  â”‚ â€¢ Status Info   â”‚    â”‚   Updates       â”‚    â”‚   Discovery  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Network Layer (UDP)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Broadcasting  â”‚    â”‚    Listening    â”‚    â”‚   Peer Mgmt  â”‚ â”‚
â”‚  â”‚   (Port 7878)   â”‚    â”‚   (Port 7878)   â”‚    â”‚   (Registry) â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ Peer Discoveryâ”‚    â”‚ â€¢ Peer Discoveryâ”‚    â”‚ â€¢ Thread-safeâ”‚ â”‚
â”‚  â”‚ â€¢ Text Messages â”‚    â”‚ â€¢ Text Messages â”‚    â”‚   HashMap    â”‚ â”‚
â”‚  â”‚ â€¢ 5s Intervals  â”‚    â”‚ â€¢ Event Emissionâ”‚    â”‚ â€¢ Auto Cleanupâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture

### 1. Frontend Layer (dist/)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend Components                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   index.html    â”‚    â”‚    main.js      â”‚    â”‚   style.css  â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ App Structure â”‚    â”‚ â€¢ Tauri API     â”‚    â”‚ â€¢ UI Styling â”‚ â”‚
â”‚  â”‚ â€¢ Debug Panel   â”‚    â”‚ â€¢ Event Listenersâ”‚   â”‚ â€¢ Responsive â”‚ â”‚
â”‚  â”‚ â€¢ Text Area     â”‚    â”‚ â€¢ Text Input    â”‚    â”‚ â€¢ Modern UI  â”‚ â”‚
â”‚  â”‚ â€¢ Status Displayâ”‚    â”‚ â€¢ Peer Updates  â”‚    â”‚ â€¢ Real-time  â”‚ â”‚
â”‚  â”‚ â€¢ Peer List     â”‚    â”‚ â€¢ Error Handlingâ”‚    â”‚   Updates    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Tauri Bridge Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Tauri IPC Bridge                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend      â”‚    â”‚   Tauri IPC     â”‚    â”‚   Backend    â”‚ â”‚
â”‚  â”‚   Commands      â”‚â—„â”€â”€â–ºâ”‚   Invoke        â”‚â—„â”€â”€â–ºâ”‚   Handlers    â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ get_peers()   â”‚    â”‚ â€¢ Serialization â”‚    â”‚ â€¢ get_peers  â”‚ â”‚
â”‚  â”‚ â€¢ get_peer_countâ”‚    â”‚ â€¢ Deserializationâ”‚   â”‚ â€¢ get_peer_  â”‚ â”‚
â”‚  â”‚ â€¢ get_peer_id() â”‚    â”‚ â€¢ Error Handlingâ”‚    â”‚   count      â”‚ â”‚
â”‚  â”‚ â€¢ send_text_to_ â”‚    â”‚ â€¢ Type Safety   â”‚    â”‚ â€¢ get_peer_idâ”‚ â”‚
â”‚  â”‚   all_peers()   â”‚    â”‚ â€¢ Event System  â”‚    â”‚ â€¢ send_text_ â”‚ â”‚
â”‚  â”‚ â€¢ Event Listen  â”‚    â”‚ â€¢ Real-time     â”‚    â”‚   to_all_    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””   peers      â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Backend Core (src-tauri/src/)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Rust Backend Core                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    main.rs      â”‚    â”‚   discovery.rs  â”‚    â”‚   App State  â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ App Entry     â”‚    â”‚ â€¢ Peer Discoveryâ”‚    â”‚ â€¢ Global     â”‚ â”‚
â”‚  â”‚ â€¢ Tauri Setup   â”‚    â”‚ â€¢ UDP Broadcast â”‚    â”‚   State      â”‚ â”‚
â”‚  â”‚ â€¢ Command       â”‚    â”‚ â€¢ UDP Listen    â”‚    â”‚ â€¢ Service    â”‚ â”‚
â”‚  â”‚   Handlers      â”‚    â”‚ â€¢ Peer Registry â”‚    â”‚   Managementâ”‚ â”‚
â”‚  â”‚ â€¢ Text Sharing  â”‚    â”‚ â€¢ Cleanup Tasks â”‚    â”‚ â€¢ Thread     â”‚ â”‚
â”‚  â”‚ â€¢ Event Emissionâ”‚    â”‚ â€¢ Message       â”‚    â”‚   Safety     â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚   Handling      â”‚    â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Component Breakdown

### Discovery System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Discovery Service                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ DiscoveryServiceâ”‚    â”‚  PeerRegistry   â”‚    â”‚     Peer     â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ Orchestrates  â”‚    â”‚ â€¢ Thread-safe   â”‚    â”‚ â€¢ Peer Info  â”‚ â”‚
â”‚  â”‚   all discovery â”‚    â”‚   HashMap       â”‚    â”‚ â€¢ ID, IP,    â”‚ â”‚
â”‚  â”‚   components    â”‚    â”‚ â€¢ Add/Remove    â”‚    â”‚   Port,      â”‚ â”‚
â”‚  â”‚ â€¢ Manages peer  â”‚    â”‚   peers         â”‚    â”‚   Hostname   â”‚ â”‚
â”‚  â”‚   ID generation â”‚    â”‚ â€¢ Cleanup stale â”‚    â”‚ â€¢ Timestamp  â”‚ â”‚
â”‚  â”‚ â€¢ Service       â”‚    â”‚   peers         â”‚    â”‚ â€¢ Stale      â”‚ â”‚
â”‚  â”‚   lifecycle     â”‚    â”‚ â€¢ Query peers   â”‚    â”‚   detection  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                       â”‚                       â”‚      â”‚
â”‚           â–¼                       â–¼                       â–¼      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚UdpBroadcaster   â”‚    â”‚  UdpListener    â”‚    â”‚DiscoveryMsg  â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ Broadcasts    â”‚    â”‚ â€¢ Listens on    â”‚    â”‚ â€¢ JSON       â”‚ â”‚
â”‚  â”‚   presence      â”‚    â”‚   UDP port 7878 â”‚    â”‚   format     â”‚ â”‚
â”‚  â”‚ â€¢ 5-second      â”‚    â”‚ â€¢ Processes     â”‚    â”‚ â€¢ Peer ID    â”‚ â”‚
â”‚  â”‚   intervals     â”‚    â”‚   incoming      â”‚    â”‚ â€¢ Port       â”‚ â”‚
â”‚  â”‚ â€¢ JSON messages â”‚    â”‚   messages      â”‚    â”‚ â€¢ Hostname   â”‚ â”‚
â”‚  â”‚ â€¢ Broadcast     â”‚    â”‚ â€¢ Ignores own   â”‚    â”‚ â€¢ Timestamp  â”‚ â”‚
â”‚  â”‚   address       â”‚    â”‚   messages      â”‚    â”‚ â€¢ Text Data  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Text Sharing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚â”€â”€â”€â–ºâ”‚  Frontend   â”‚â”€â”€â”€â–ºâ”‚   Backend   â”‚â”€â”€â”€â–ºâ”‚   UDP       â”‚
â”‚   Input     â”‚    â”‚  (main.js)  â”‚    â”‚  (main.rs)  â”‚    â”‚   Network   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Text Area   â”‚    â”‚ invoke()    â”‚    â”‚ send_text_  â”‚    â”‚ UDP Packet  â”‚
â”‚ Change      â”‚    â”‚ Call        â”‚    â”‚ to_all_     â”‚    â”‚ to Port     â”‚
â”‚ Event       â”‚    â”‚             â”‚    â”‚ peers()     â”‚    â”‚ 7878        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Receiving   â”‚
                                                    â”‚ Peer        â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Event       â”‚
                                                    â”‚ Emission    â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Frontend    â”‚
                                                    â”‚ Update      â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Network Communication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Peer A    â”‚    â”‚   Peer B    â”‚    â”‚   Peer C    â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Broadcastâ”‚ â”‚    â”‚ â”‚Broadcastâ”‚ â”‚    â”‚ â”‚Broadcastâ”‚ â”‚
â”‚ â”‚  Task   â”‚ â”‚    â”‚ â”‚  Task   â”‚ â”‚    â”‚ â”‚  Task   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚       â”‚    â”‚     â”‚       â”‚    â”‚     â”‚       â”‚
â”‚     â–¼       â”‚    â”‚     â–¼       â”‚    â”‚     â–¼       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚UDP Port â”‚ â”‚    â”‚ â”‚UDP Port â”‚ â”‚    â”‚ â”‚UDP Port â”‚ â”‚
â”‚ â”‚  7878   â”‚ â”‚    â”‚ â”‚  7878   â”‚ â”‚    â”‚ â”‚  7878   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚       â”‚    â”‚     â”‚       â”‚    â”‚     â”‚       â”‚
â”‚     â–¼       â”‚    â”‚     â–¼       â”‚    â”‚     â–¼       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Listener â”‚ â”‚    â”‚ â”‚Listener â”‚ â”‚    â”‚ â”‚Listener â”‚ â”‚
â”‚ â”‚  Task   â”‚ â”‚    â”‚ â”‚  Task   â”‚ â”‚    â”‚ â”‚  Task   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Network   â”‚
                    â”‚  Broadcast  â”‚
                    â”‚   (UDP)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

### 1. Application Startup Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   main()    â”‚â”€â”€â”€â–ºâ”‚ Tauri Setup â”‚â”€â”€â”€â–ºâ”‚Discovery    â”‚â”€â”€â”€â–ºâ”‚ Background  â”‚
â”‚             â”‚    â”‚             â”‚    â”‚Service Init â”‚    â”‚ Tasks Start â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App State   â”‚    â”‚ Command     â”‚    â”‚ Peer ID     â”‚    â”‚ Broadcaster â”‚
â”‚ Creation    â”‚    â”‚ Handlers    â”‚    â”‚ Generation  â”‚    â”‚ Task        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Listener    â”‚
                                                    â”‚ Task        â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Cleanup     â”‚
                                                    â”‚ Task        â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Peer Discovery Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Broadcast   â”‚â”€â”€â”€â–ºâ”‚ UDP Network â”‚â”€â”€â”€â–ºâ”‚ Listener    â”‚â”€â”€â”€â–ºâ”‚ Peer        â”‚
â”‚ Message     â”‚    â”‚ (Port 7878) â”‚    â”‚ Receives    â”‚    â”‚ Registry    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JSON        â”‚    â”‚ Broadcast   â”‚    â”‚ Message     â”‚    â”‚ Add/Update  â”‚
â”‚ Serialize   â”‚    â”‚ to All      â”‚    â”‚ Deserialize â”‚    â”‚ Peer Entry  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Text Sharing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend    â”‚â”€â”€â”€â–ºâ”‚ Tauri IPC   â”‚â”€â”€â”€â–ºâ”‚ Command     â”‚â”€â”€â”€â–ºâ”‚ Backend     â”‚
â”‚ (main.js)   â”‚    â”‚ Bridge      â”‚    â”‚ Handler     â”‚    â”‚ Logic       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Text Input  â”‚    â”‚ Serialize   â”‚    â”‚ send_text_  â”‚    â”‚ UDP Send    â”‚
â”‚ Event       â”‚    â”‚ Request     â”‚    â”‚ to_all_     â”‚    â”‚ to Peers    â”‚
â”‚             â”‚    â”‚             â”‚    â”‚ peers()     â”‚    â”‚ (Port 7878) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ UDP Receive â”‚
                                                    â”‚ (Port 7878) â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Event       â”‚
                                                    â”‚ Emission    â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚ Frontend    â”‚
                                                    â”‚ Update      â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technical Specifications

### Dependencies

#### Backend (Rust)
- **tauri**: ^2.0 - Desktop application framework
- **serde**: 1.0 - Serialization framework
- **tokio**: 1.38 - Async runtime
- **uuid**: 1.7 - UUID generation
- **log**: 0.4.21 - Logging framework
- **anyhow**: 1.0 - Error handling
- **chrono**: 0.4.38 - Date/time handling

#### Frontend
- **HTML5**: Structure and semantics
- **CSS3**: Styling and layout
- **JavaScript**: Interactivity and Tauri API integration

### Network Protocol

#### UDP Discovery Protocol
- **Port**: 7878 (for both discovery and text sharing)
- **Broadcast Interval**: 5 seconds
- **Peer Timeout**: 30 seconds
- **Cleanup Interval**: 10 seconds
- **Message Format**: JSON

```json
{
  "message_type": "PeerDiscovery|TextMessage",
  "peer_id": "uuid-string",
  "port": 7878,
  "hostname": "optional-hostname",
  "timestamp": "ISO-8601-timestamp",
  "text": "optional-text-content"
}
```

### Threading Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Thread Architecture                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Main Thread   â”‚    â”‚ Broadcaster     â”‚    â”‚ Listener     â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚ Thread          â”‚    â”‚ Thread       â”‚ â”‚
â”‚  â”‚ â€¢ Tauri Runtime â”‚    â”‚ â€¢ UDP Broadcast â”‚    â”‚ â€¢ UDP Listen â”‚ â”‚
â”‚  â”‚ â€¢ UI Updates    â”‚    â”‚ â€¢ 5s Intervals  â”‚    â”‚ â€¢ Message    â”‚ â”‚
â”‚  â”‚ â€¢ Command       â”‚    â”‚ â€¢ JSON Messages â”‚    â”‚   Processing â”‚ â”‚
â”‚  â”‚   Handling      â”‚    â”‚ â€¢ Error Handlingâ”‚    â”‚ â€¢ Peer       â”‚ â”‚
â”‚  â”‚ â€¢ State Mgmt    â”‚    â”‚ â€¢ Text Messages â”‚    â”‚   Registry   â”‚ â”‚
â”‚  â”‚ â€¢ Event Emissionâ”‚    â”‚                 â”‚    â”‚ â€¢ Event      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””   Emission  â”˜ â”‚
â”‚           â”‚                       â”‚                       â”‚      â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                   â”‚                              â”‚
â”‚                                   â–¼                              â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                          â”‚ Cleanup Thread  â”‚                     â”‚
â”‚                          â”‚                 â”‚                     â”‚
â”‚                          â”‚ â€¢ Stale Peer    â”‚                     â”‚
â”‚                          â”‚   Removal       â”‚                     â”‚
â”‚                          â”‚ â€¢ 10s Intervals â”‚                     â”‚
â”‚                          â”‚ â€¢ Registry      â”‚                     â”‚
â”‚                          â”‚   Maintenance   â”‚                     â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error Handling Strategy

#### Backend Error Handling
- **anyhow**: Comprehensive error propagation
- **Result<T, E>**: Type-safe error handling
- **Logging**: Structured logging with different levels
- **Graceful Degradation**: Continue operation on non-critical errors

#### Frontend Error Handling
- **Try-Catch Blocks**: JavaScript error handling
- **Status Updates**: User-visible error states
- **Retry Logic**: Automatic reconnection attempts
- **Debug Information**: Detailed error reporting

### Security Considerations

#### Current Implementation
- **Local Network Only**: UDP broadcast limited to local network
- **No Authentication**: Trusts local network peers
- **No Encryption**: Discovery and text messages are plain text
- **UUID-based IDs**: Random peer identification

#### Future Enhancements
- **Message Encryption**: End-to-end encryption for text and file transfers
- **Peer Authentication**: Certificate-based peer verification
- **Network Isolation**: VLAN support for enterprise environments
- **Access Control**: User-defined peer whitelisting

## Deployment Architecture

### Build Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Source Code â”‚â”€â”€â”€â–ºâ”‚ Cargo Build â”‚â”€â”€â”€â–ºâ”‚ Tauri Build â”‚â”€â”€â”€â–ºâ”‚ App Bundle  â”‚
â”‚             â”‚    â”‚ (Rust)      â”‚    â”‚ (Frontend)  â”‚    â”‚ (Platform)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Platform Support

#### macOS
- **Format**: `.app` bundle, `.dmg` installer
- **Architecture**: x86_64, aarch64
- **Dependencies**: None (self-contained)

#### Windows
- **Format**: `.exe`, `.msi` installer
- **Architecture**: x64
- **Dependencies**: Visual C++ Redistributable

#### Linux
- **Format**: `.AppImage`, `.deb` package
- **Architecture**: x86_64
- **Dependencies**: WebKit2GTK, GTK3

## Performance Characteristics

### Network Performance
- **Discovery Latency**: < 5 seconds
- **Text Sync Latency**: < 1 second
- **Peer Timeout**: 30 seconds
- **Broadcast Overhead**: Minimal (JSON messages)
- **Memory Usage**: Low (peer registry only)

### Application Performance
- **Startup Time**: < 2 seconds
- **Memory Footprint**: < 50MB
- **CPU Usage**: < 1% (idle)
- **Disk Usage**: < 10MB

## Current Features

### âœ… Implemented
- **UDP Peer Discovery**: Automatic discovery of peers on local network
- **Real-time Text Sharing**: Instant text synchronization between peers
- **Cross-platform Support**: Windows, macOS, and Linux
- **Automatic Cleanup**: Stale peer removal
- **Debug Interface**: Real-time peer information display
- **Event-driven Architecture**: Real-time updates via Tauri events

### ğŸš§ In Progress
- **File Transfer**: Basic file sharing capabilities
- **UI Improvements**: Enhanced user interface

### ğŸ“‹ Planned
- **Encrypted Communication**: End-to-end encryption
- **File Transfer**: Complete file sharing implementation
- **Clipboard Sync**: Cross-device clipboard synchronization
- **Mobile Companion**: iOS/Android companion apps

## Future Architecture Considerations

### Scalability
- **Multi-Network Support**: Multiple network interface discovery
- **Peer Clustering**: Hierarchical peer organization
- **Load Balancing**: Distributed peer registry
- **Caching**: Local peer information caching

### Extensibility
- **Plugin System**: Modular feature extensions
- **API Gateway**: REST API for external integrations
- **Web Interface**: Browser-based administration
- **Mobile Support**: iOS/Android companion apps

### Monitoring and Observability
- **Metrics Collection**: Performance and usage metrics
- **Health Checks**: Service availability monitoring
- **Log Aggregation**: Centralized logging system
- **Alerting**: Automated issue detection and notification 